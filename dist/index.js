"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("rxdb"),t=require("mobx"),a=require("faker"),n=require("consola"),i=require("rxcollection-subscriber");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(a),s=r(n),c=r(i),u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function l(e,t){function a(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var d=function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function m(e,t,a,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,a,o):i(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o}function f(e,t,a,n){return new(a||(a=Promise))((function(i,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))}function v(e,t){var a,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var p=String(process.env.NODE_ENV),h={version:require("../package.json").version,taxonomii:{defaults:{criteriu:{limit:25,index:0,sort:{},find:null}},asociatii:{criteriu:{limit:100}}},build:{db:{name:"Lodger/$",adapter:"memory",password:"l0dg3rp4$$",ignoreDuplicate:Boolean("test"===p)}}};const b=[{code:"ab",name:"Abkhaz",nativeName:"аҧсуа"},{code:"aa",name:"Afar",nativeName:"Afaraf"},{code:"af",name:"Afrikaans",nativeName:"Afrikaans"},{code:"ak",name:"Akan",nativeName:"Akan"},{code:"sq",name:"Albanian",nativeName:"Shqip"},{code:"am",name:"Amharic",nativeName:"አማርኛ"},{code:"ar",name:"Arabic",nativeName:"العربية"},{code:"an",name:"Aragonese",nativeName:"Aragonés"},{code:"hy",name:"Armenian",nativeName:"Հայերեն"},{code:"as",name:"Assamese",nativeName:"অসমীয়া"},{code:"av",name:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ"},{code:"ae",name:"Avestan",nativeName:"avesta"},{code:"ay",name:"Aymara",nativeName:"aymar aru"},{code:"az",name:"Azerbaijani",nativeName:"azərbaycan dili"},{code:"bm",name:"Bambara",nativeName:"bamanankan"},{code:"ba",name:"Bashkir",nativeName:"башҡорт теле"},{code:"eu",name:"Basque",nativeName:"euskara, euskera"},{code:"be",name:"Belarusian",nativeName:"Беларуская"},{code:"bn",name:"Bengali",nativeName:"বাংলা"},{code:"bh",name:"Bihari",nativeName:"भोजपुरी"},{code:"bi",name:"Bislama",nativeName:"Bislama"},{code:"bs",name:"Bosnian",nativeName:"bosanski jezik"},{code:"br",name:"Breton",nativeName:"brezhoneg"},{code:"bg",name:"Bulgarian",nativeName:"български език"},{code:"my",name:"Burmese",nativeName:"ဗမာစာ"},{code:"ca",name:"Catalan; Valencian",nativeName:"Català"},{code:"ch",name:"Chamorro",nativeName:"Chamoru"},{code:"ce",name:"Chechen",nativeName:"нохчийн мотт"},{code:"ny",name:"Chichewa; Chewa; Nyanja",nativeName:"chiCheŵa, chinyanja"},{code:"zh",name:"Chinese",nativeName:"中文 (Zhōngwén), 汉语, 漢語"},{code:"cv",name:"Chuvash",nativeName:"чӑваш чӗлхи"},{code:"kw",name:"Cornish",nativeName:"Kernewek"},{code:"co",name:"Corsican",nativeName:"corsu, lingua corsa"},{code:"cr",name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},{code:"hr",name:"Croatian",nativeName:"hrvatski"},{code:"cs",name:"Czech",nativeName:"česky, čeština"},{code:"da",name:"Danish",nativeName:"dansk"},{code:"dv",name:"Divehi; Dhivehi; Maldivian;",nativeName:"ދިވެހި"},{code:"nl",name:"Dutch",nativeName:"Nederlands, Vlaams"},{code:"en",name:"English",nativeName:"English",supported:!0},{code:"eo",name:"Esperanto",nativeName:"Esperanto"},{code:"et",name:"Estonian",nativeName:"eesti, eesti keel"},{code:"ee",name:"Ewe",nativeName:"Eʋegbe"},{code:"fo",name:"Faroese",nativeName:"føroyskt"},{code:"fj",name:"Fijian",nativeName:"vosa Vakaviti"},{code:"fi",name:"Finnish",nativeName:"suomi, suomen kieli"},{code:"fr",name:"French",nativeName:"français, langue française"},{code:"ff",name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},{code:"gl",name:"Galician",nativeName:"Galego"},{code:"ka",name:"Georgian",nativeName:"ქართული"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"el",name:"Greek, Modern",nativeName:"Ελληνικά"},{code:"gn",name:"Guaraní",nativeName:"Avañeẽ"},{code:"gu",name:"Gujarati",nativeName:"ગુજરાતી"},{code:"ht",name:"Haitian; Haitian Creole",nativeName:"Kreyòl ayisyen"},{code:"ha",name:"Hausa",nativeName:"Hausa, هَوُسَ"},{code:"he",name:"Hebrew (modern)",nativeName:"עברית"},{code:"hz",name:"Herero",nativeName:"Otjiherero"},{code:"hi",name:"Hindi",nativeName:"हिन्दी, हिंदी"},{code:"ho",name:"Hiri Motu",nativeName:"Hiri Motu"},{code:"hu",name:"Hungarian",nativeName:"Magyar"},{code:"ia",name:"Interlingua",nativeName:"Interlingua"},{code:"id",name:"Indonesian",nativeName:"Bahasa Indonesia"},{code:"ie",name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},{code:"ga",name:"Irish",nativeName:"Gaeilge"},{code:"ig",name:"Igbo",nativeName:"Asụsụ Igbo"},{code:"ik",name:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun"},{code:"io",name:"Ido",nativeName:"Ido"},{code:"is",name:"Icelandic",nativeName:"Íslenska"},{code:"it",name:"Italian",nativeName:"Italiano"},{code:"iu",name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},{code:"ja",name:"Japanese",nativeName:"日本語 (にほんご／にっぽんご)"},{code:"jv",name:"Javanese",nativeName:"basa Jawa"},{code:"kl",name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},{code:"kn",name:"Kannada",nativeName:"ಕನ್ನಡ"},{code:"kr",name:"Kanuri",nativeName:"Kanuri"},{code:"ks",name:"Kashmiri",nativeName:"कश्मीरी, كشميري‎"},{code:"kk",name:"Kazakh",nativeName:"Қазақ тілі"},{code:"km",name:"Khmer",nativeName:"ភាសាខ្មែរ"},{code:"ki",name:"Kikuyu, Gikuyu",nativeName:"Gĩkũyũ"},{code:"rw",name:"Kinyarwanda",nativeName:"Ikinyarwanda"},{code:"ky",name:"Kirghiz, Kyrgyz",nativeName:"кыргыз тили"},{code:"kv",name:"Komi",nativeName:"коми кыв"},{code:"kg",name:"Kongo",nativeName:"KiKongo"},{code:"ko",name:"Korean",nativeName:"한국어 (韓國語), 조선말 (朝鮮語)"},{code:"ku",name:"Kurdish",nativeName:"Kurdî, كوردی‎"},{code:"kj",name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},{code:"la",name:"Latin",nativeName:"latine, lingua latina"},{code:"lb",name:"Luxembourgish, Letzeburgesch",nativeName:"Lëtzebuergesch"},{code:"lg",name:"Luganda",nativeName:"Luganda"},{code:"li",name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},{code:"ln",name:"Lingala",nativeName:"Lingála"},{code:"lo",name:"Lao",nativeName:"ພາສາລາວ"},{code:"lt",name:"Lithuanian",nativeName:"lietuvių kalba"},{code:"lu",name:"Luba-Katanga",nativeName:""},{code:"lv",name:"Latvian",nativeName:"latviešu valoda"},{code:"gv",name:"Manx",nativeName:"Gaelg, Gailck"},{code:"mk",name:"Macedonian",nativeName:"македонски јазик"},{code:"mg",name:"Malagasy",nativeName:"Malagasy fiteny"},{code:"ms",name:"Malay",nativeName:"bahasa Melayu, بهاس ملايو‎"},{code:"ml",name:"Malayalam",nativeName:"മലയാളം"},{code:"mt",name:"Maltese",nativeName:"Malti"},{code:"mi",name:"Māori",nativeName:"te reo Māori"},{code:"mr",name:"Marathi (Marāṭhī)",nativeName:"मराठी"},{code:"mh",name:"Marshallese",nativeName:"Kajin M̧ajeļ"},{code:"mn",name:"Mongolian",nativeName:"монгол"},{code:"na",name:"Nauru",nativeName:"Ekakairũ Naoero"},{code:"nv",name:"Navajo, Navaho",nativeName:"Diné bizaad, Dinékʼehǰí"},{code:"nb",name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},{code:"nd",name:"North Ndebele",nativeName:"isiNdebele"},{code:"ne",name:"Nepali",nativeName:"नेपाली"},{code:"ng",name:"Ndonga",nativeName:"Owambo"},{code:"nn",name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},{code:"no",name:"Norwegian",nativeName:"Norsk"},{code:"ii",name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},{code:"nr",name:"South Ndebele",nativeName:"isiNdebele"},{code:"oc",name:"Occitan",nativeName:"Occitan"},{code:"oj",name:"Ojibwe, Ojibwa",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},{code:"cu",name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:"ѩзыкъ словѣньскъ"},{code:"om",name:"Oromo",nativeName:"Afaan Oromoo"},{code:"or",name:"Oriya",nativeName:"ଓଡ଼ିଆ"},{code:"os",name:"Ossetian, Ossetic",nativeName:"ирон æвзаг"},{code:"pa",name:"Panjabi, Punjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎"},{code:"pi",name:"Pāli",nativeName:"पाऴि"},{code:"fa",name:"Persian",nativeName:"فارسی"},{code:"pl",name:"Polish",nativeName:"polski"},{code:"ps",name:"Pashto, Pushto",nativeName:"پښتو"},{code:"pt",name:"Portuguese",nativeName:"Português"},{code:"qu",name:"Quechua",nativeName:"Runa Simi, Kichwa"},{code:"rm",name:"Romansh",nativeName:"rumantsch grischun"},{code:"rn",name:"Kirundi",nativeName:"kiRundi"},{code:"ro",name:"Romanian, Moldavian, Moldovan",nativeName:"română",supported:!0},{code:"ru",name:"Russian",nativeName:"русский язык"},{code:"sa",name:"Sanskrit (Saṁskṛta)",nativeName:"संस्कृतम्"},{code:"sc",name:"Sardinian",nativeName:"sardu"},{code:"sd",name:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎"},{code:"se",name:"Northern Sami",nativeName:"Davvisámegiella"},{code:"sm",name:"Samoan",nativeName:"gagana faa Samoa"},{code:"sg",name:"Sango",nativeName:"yângâ tî sängö"},{code:"sr",name:"Serbian",nativeName:"српски језик"},{code:"gd",name:"Scottish Gaelic; Gaelic",nativeName:"Gàidhlig"},{code:"sn",name:"Shona",nativeName:"chiShona"},{code:"si",name:"Sinhala, Sinhalese",nativeName:"සිංහල"},{code:"sk",name:"Slovak",nativeName:"slovenčina"},{code:"sl",name:"Slovene",nativeName:"slovenščina"},{code:"so",name:"Somali",nativeName:"Soomaaliga, af Soomaali"},{code:"st",name:"Southern Sotho",nativeName:"Sesotho"},{code:"es",name:"Spanish; Castilian",nativeName:"español, castellano"},{code:"su",name:"Sundanese",nativeName:"Basa Sunda"},{code:"sw",name:"Swahili",nativeName:"Kiswahili"},{code:"ss",name:"Swati",nativeName:"SiSwati"},{code:"sv",name:"Swedish",nativeName:"svenska"},{code:"ta",name:"Tamil",nativeName:"தமிழ்"},{code:"te",name:"Telugu",nativeName:"తెలుగు"},{code:"tg",name:"Tajik",nativeName:"тоҷикӣ, toğikī, تاجیکی‎"},{code:"th",name:"Thai",nativeName:"ไทย"},{code:"ti",name:"Tigrinya",nativeName:"ትግርኛ"},{code:"bo",name:"Tibetan Standard, Tibetan, Central",nativeName:"བོད་ཡིག"},{code:"tk",name:"Turkmen",nativeName:"Türkmen, Түркмен"},{code:"tl",name:"Tagalog",nativeName:"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},{code:"tn",name:"Tswana",nativeName:"Setswana"},{code:"to",name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},{code:"tr",name:"Turkish",nativeName:"Türkçe"},{code:"ts",name:"Tsonga",nativeName:"Xitsonga"},{code:"tt",name:"Tatar",nativeName:"татарча, tatarça, تاتارچا‎"},{code:"tw",name:"Twi",nativeName:"Twi"},{code:"ty",name:"Tahitian",nativeName:"Reo Tahiti"},{code:"ug",name:"Uighur, Uyghur",nativeName:"Uyƣurqə, ئۇيغۇرچە‎"},{code:"uk",name:"Ukrainian",nativeName:"українська"},{code:"ur",name:"Urdu",nativeName:"اردو"},{code:"uz",name:"Uzbek",nativeName:"zbek, Ўзбек, أۇزبېك‎"},{code:"ve",name:"Venda",nativeName:"Tshivenḓa"},{code:"vi",name:"Vietnamese",nativeName:"Tiếng Việt"},{code:"vo",name:"Volapük",nativeName:"Volapük"},{code:"wa",name:"Walloon",nativeName:"Walon"},{code:"cy",name:"Welsh",nativeName:"Cymraeg"},{code:"wo",name:"Wolof",nativeName:"Wollof"},{code:"fy",name:"Western Frisian",nativeName:"Frysk"},{code:"xh",name:"Xhosa",nativeName:"isiXhosa"},{code:"yi",name:"Yiddish",nativeName:"ייִדיש"},{code:"yo",name:"Yoruba",nativeName:"Yorùbá"},{code:"za",name:"Zhuang, Chuang",nativeName:"Saɯ cueŋƅ, Saw cuengh"}],y=b.filter(e=>e.supported).map(e=>e.code),g=b.filter(e=>y.indexOf(e.code)>-1);var N,w,k,O,x=function(e){function t(a,n){var i;return n&&(a=String(a).replace("%%",'"'+JSON.stringify(n)+'"')),i=e.call(this,a)||this,Object.setPrototypeOf(i,t.prototype),i}return l(t,e),t}(Error);!function(e){e[e.$=0]="$",e[e.buildingName=1]="buildingName",e[e.fullName=2]="fullName",e[e.search=3]="search",e[e.select=4]="select",e[e.serviceName=5]="serviceName",e[e.string=6]="string",e[e.textarea=7]="textarea",e[e.userAvatar=8]="userAvatar"}(N||(N={})),function(e){e[e.date=0]="date",e[e.dateTime=1]="dateTime",e[e.number=2]="number"}(w||(w={})),function(e){e[e.array=0]="array",e[e.contactFields=1]="contactFields",e[e.contoare=2]="contoare",e[e.distribuire=3]="distribuire",e[e.furnizori=4]="furnizori",e[e.selApartamente=5]="selApartamente",e[e.servicii=6]="servicii",e[e.scari=7]="scari"}(k||(k={})),function(e){e[e.object=0]="object",e[e.organizatie=1]="organizatie"}(O||(O={}));var j={apartament:"apartamente",asociatie:"asociatii",bloc:"blocuri",contor:"contoare",cheltuiala:"cheltuieli",factura:"facturi",incasare:"incasari",serviciu:"servicii",tranzactie:"tranzactii"};String.prototype.stripLeading=function(e){return 0!==this.indexOf(e)?String(this):String(this.replace(e,"").trim().stripLeading(e))},Object.defineProperties(String.prototype,{plural:{get:function(){return j[this]||String(this+"i")}},asRxDBType:{get:function(){var e="string",t=this.toString();return Object.keys(N).indexOf(t)>-1?e:Object.keys(O).indexOf(t)>-1?"object":Object.keys(w).indexOf(t)>-1?"number":Object.keys(k).indexOf(t)>-1?"array":e}},asMoney:{get:function(){var e=this.split(" ");return{currency:e[0],amount:e[1]}}},slug:{get:function(){return this.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}});var P,_={String:String};!function(e){e[e.BTC=0]="BTC",e[e.RON=1]="RON",e[e.EUR=2]="EUR",e[e.USD=3]="USD",e[e.TRX=4]="TRX"}(P||(P={}));var S=Object.keys(P).filter((function(e){return"number"==typeof P[e]})),z={};Object.defineProperties(z,{$:{get:function(){return o.default.random.arrayElement(S)+" "+o.default.finance.amount(100,1e4,4)}},id:{get:function(){}},string:{get:function(){return o.default.lorem.words(3)}},number:{get:function(){return Number(o.default.random.number({min:20,max:300}))}},fullName:{get:function(){return o.default.name.firstName()+" "+o.default.name.lastName()}},dateTime:{get:function(){return Date.now()+o.default.random.number({min:9e6,max:1e8})}},buildingName:{get:function(){return o.default.random.alphaNumeric(2)}},serviceName:{get:function(){return o.default.hacker.adjective()}}});var I,q=_.String,D=function(){function e(e){var t=this;if(this.type="string",this.storage="db",this.value=function(){return t.default||void 0},e){var a=e.ref,n=e.index,i=e.indexRef,r=e.type,o=e.step,s=e.required,c=e.v,u=e.value,l=e.preview;if(this.preview=l,this._type=r,this.type=q(r||"").asRxDBType,n&&(this._index=!0),a&&(this.ref=a,this.items={type:"string"},i&&(this.index=i)),void 0!==o){if("number"!==this.type)throw new x('Type must be "number" for .step');this.multipleOf=o}s&&(this.v=s&&c&&c.indexOf("required")<0?c:"required|"+c),this.default="function"==typeof e.default?e.default():e.default;var d=this.storage;u&&"function"==typeof u&&(this.value=u.bind({storage:d})),Object.defineProperty(this,"fakeValue",{get:function(){return z[r||"string"]}})}}return Object.defineProperty(e.prototype,"rxSchema",{get:function(){var e=this,t={},a=["storage","value","default","v"];return Object.keys(this).forEach((function(n){void 0!==e[n]&&(a.indexOf(n)>-1||(t[n]=e[n]))})),t},enumerable:!1,configurable:!0}),e}();!function(e){e.missingProps="Missing properties on schema %%",e.propExists='Property "%%" already exists',e.idUndef="ID for field %% cannot be undefined",e.invalidField="Invalid field %% supplied"}(I||(I={}));var A,T=function(){function e(e,t,a){var n=this;if(this.name=e,this.type="object",this.version=0,this.properties={},this.required=[],this.indexes=[],!t||!Object.keys(t).length)throw new x(I.missingFields,{name:e});Object.keys(t).map((function(e){return n.add(t[e].id||e,t[e])}))}return e.prototype.add=function(e,t){if(!e)throw new x(I.idUndef,t);if(this.properties[e])throw new x(I.propExists,e);if(t&&!t.rxSchema)throw new x(I.invalidField,t);var a=t.rxSchema,n=t.v,i=t.storage,r=t._index;if("db"===i){var o=n&&n.indexOf("required")>-1;this.properties[e]=a||{},o&&this.required.indexOf(e)<0&&this.required.push(e),r&&this.indexes.push(e)}},Object.defineProperty(e.prototype,"ids",{get:function(){return Object.keys(this.properties)},enumerable:!1,configurable:!0}),e}();!function(e){e.invalidRequested="Invalid file requested: %%",e.invalidName="Invalid name supplied: %%",e.missingFields="Missing fields on form %%"}(A||(A={}));var C,F,B=function(){function e(e,t){var a=this;this.opts=t,this._onsubmit=[],this.fields={},this.$active=!1;var n=e||{name:"untitled",fields:{}},i=n.fields,r=n.name;if((this.name=r,this.fields={},this.plural=this.name.plural,i&&Object.keys(i).map((function(e){a.fields[e]=new D(i[e])})),t)&&t.captureTimestamp){var o={type:"dateTime",index:!0};["createdAt","updatedAt"].map((function(e){a.fields[e]=new D(d({},o))}))}this.schema=new T(r,this.fields),this.onsubmit=function(){}}return Object.defineProperty(e.prototype,"fakeData",{get:function(){var e=this;return Object.fromEntries(this.fieldsIds.filter((function(e){return e.indexOf("Id")<0})).map((function(t){return[t,e.fields[t].fakeValue]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return Object.assign.apply(Object,function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<a;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,i++)n[i]=r[o];return n}([{}],Object.keys(this.fields)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fieldsIds",{get:function(){return Object.keys(this.fields)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previewFields",{get:function(){var e=this;return this.fieldsIds.filter((function(t){return e.fields[t].preview>-1})).sort((function(t,a){return e.fields[t].preview-e.fields[a].preview}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onsubmit",{set:function(e){this._onsubmit.push(e.bind(this))},enumerable:!1,configurable:!0}),e.prototype.value=function(e){var t=this,a={};return this.fieldsIds.forEach((function(n){var i=t.fields[n];"db"===i.storage&&(a[n]=i.value(e))})),a},e}();function E(e){if(this&&"function"==typeof this.dispatch&&this.actions.notify)this.dispatch("notify",e);else{var t=e.type,a=e.text;if(s.default[t](a),"error"===t)throw new Error(a)}}(C||(C={})).noDB="Please setup a DB first!";var K=function(e){function t(){var t=e.apply(this,arguments)||this;return t.subscribers={},t}return l(t,e),t.init=function(){return e.init.apply(this,arguments)},Object.defineProperty(t.prototype,"data",{get:function(){return this.subscribers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subscribed",{get:function(){return Object.keys(this.subscribers).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultCriteria",{get:function(){return e.prototype.config.criteriu},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,t){void 0===e&&(e="main"),this.subscribers[e]||(this.subscribers[e]=new c.default(this.collection,t))},t.prototype.unsubscribe=function(e){void 0===e&&(e="main");var t=this.subscribers[e];try{t.kill&&t.kill()}catch(e){}delete this.subscribers[e]},t.prototype.unsubscribeAll=function(){var e=this,t=this.subscribers;if(!t||!Object.keys(t).length)throw new x("no subs");Object.keys(t).forEach((function(t){e.unsubscribe(t)}))},Object.defineProperty(t.prototype,"subscriberParentIds",{get:function(){},enumerable:!1,configurable:!0}),t}(function(){function e(e,t,a){this.form=e,this.options=a,this.lastItems=[],this.refsIds=[],this.totals=0,Object.defineProperty(this,"collection",{enumerable:!1,writable:!1,value:t})}return Object.defineProperty(e.prototype,"last",{get:function(){return this.lastItems[0]},set:function(e){e?this.lastItems.unshift(e):this.lastItems.shift()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"db",{set:function(e){F=e},enumerable:!1,configurable:!0}),e.destroy=function(){return f(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return F?[4,F.destroy()]:[2];case 1:return e.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"plural",{get:function(){return this.form.plural},enumerable:!1,configurable:!0}),e.init=function(e,t){return void 0===t&&(t={}),f(this,void 0,void 0,(function(){var a,n,i,r,o,s,c,u,l,d;return v(this,(function(m){switch(m.label){case 0:if(!F)throw new x(C.noDB);m.label=1;case 1:return m.trys.push([1,3,,4]),a=e.name,n=e.fields,i=e.methods,r=e.statics,o=t.timestamps,s=new B({name:a,fields:n},{captureTimestamp:o}),c=s.schema,u={name:a,schema:c,methods:i,statics:r},[4,F.collection(u)];case 2:return l=m.sent(),[2,new this(s,l,t)];case 3:throw d=m.sent(),new x(d);case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"name",{get:function(){return this.collection.name},enumerable:!1,configurable:!0}),e.prototype.trash=function(e){return f(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.collection.findOne(e).remove()];case 1:return t.sent(),this.last===e&&(this.last=void 0),this.totals-=1,[3,3];case 2:return E({type:"error",text:t.sent()}),[3,3];case 3:return[2]}}))}))},e.prototype.put=function(e){return f(this,void 0,void 0,(function(){var t,a,n,i,r,o,s,c;return v(this,(function(u){switch(u.label){case 0:if(!e||Object.keys(e).length<1)throw new x("Invalid doc supplied %%",{doc:e});t=e._id?"upsert":"insert",n=(a=this).name,(i=a.options)&&i.timestamps&&Object.assign(e,((c={})["insert"===t?"createdAt":"updatedAt"]=(new Date).getTime(),c)),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.collection[t](e)];case 2:return r=u.sent(),o=r._id,this.last=o,this.totals+=1,E({type:"success",text:"["+t+"] "+n+"!"+(["dev","test"].indexOf(p)>-1?"("+o+")":"")}),[2,r];case 3:return s=u.sent(),E({type:"error",text:String(s)}),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"config",{get:function(){var e=h.taxonomii,t=e.defaults;return e[this.name]||t},enumerable:!1,configurable:!0}),m([t.observable],e.prototype,"lastItems",void 0),m([t.observable],e.prototype,"refsIds",void 0),m([t.observable],e.prototype,"totals",void 0),m([t.computed],e.prototype,"last",null),e}()),M={"Apartament.ts":()=>Promise.resolve().then((function(){return te})),"Asociatie.ts":()=>Promise.resolve().then((function(){return ie})),"Bloc.ts":()=>Promise.resolve().then((function(){return re})),"Cheltuiala.ts":()=>Promise.resolve().then((function(){return oe})),"Contor.ts":()=>Promise.resolve().then((function(){return se})),"Factura.ts":()=>Promise.resolve().then((function(){return ue})),"Feedback.ts":()=>Promise.resolve().then((function(){return le})),"Furnizor.ts":()=>Promise.resolve().then((function(){return de})),"Incasare.ts":()=>Promise.resolve().then((function(){return me})),"Serviciu.ts":()=>Promise.resolve().then((function(){return pe})),"Tranzactie.ts":()=>Promise.resolve().then((function(){return he})),"Utilizator.ts":()=>Promise.resolve().then((function(){return ge}))};function L(e){return f(this,void 0,void 0,(function(){var t=this;return v(this,(function(a){switch(a.label){case 0:return[4,Promise.all(e.map((function(e){return f(t,void 0,void 0,(function(){var t,a,n;return v(this,(function(i){switch(i.label){case 0:return t=("string"!=typeof(r=e)?"":r.charAt(0).toUpperCase()+r.slice(1))+".ts",n=[{}],[4,M[t]()];case 1:return a=d.apply(void 0,n.concat([i.sent()])),Object.defineProperty(a,"name",{writable:!1,value:String(t.split(".")[0]).toLowerCase()}),[2,a]}var r}))}))})))];case 1:return[2,a.sent()]}}))}))}var R,U={en:()=>Promise.resolve().then((function(){return Ne})),ro:()=>Promise.resolve().then((function(){return we}))};function G(e){return f(this,void 0,void 0,(function(){var t,a=this;return v(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return f(a,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,U[e]().default];case 1:return[2,t.sent()]}}))}))})))];case 1:return t=n.sent(),console.log("x",t),[2,{default:t[0]}]}}))}))}switch(process.env){default:e.addRxPlugin(require("pouchdb-adapter-memory"));break;case"production":e.addRxPlugin(require("pouchdb-adapter-leveldb"))}(R=exports.Taxonomii||(exports.Taxonomii={}))[R.Apartament=0]="Apartament",R[R.Asociatie=1]="Asociatie",R[R.Bloc=2]="Bloc",R[R.Cheltuiala=3]="Cheltuiala",R[R.Contor=4]="Contor",R[R.Factura=5]="Factura",R[R.Furnizor=6]="Furnizor",R[R.Incasare=7]="Incasare",R[R.Serviciu=8]="Serviciu",R[R.Utilizator=9]="Utilizator";var W,$=Object.keys(exports.Taxonomii).filter((function(e){return"number"==typeof exports.Taxonomii[e]}));!function(e){e[e.Feedback=0]="Feedback",e[e.Financiar=1]="Financiar",e[e.Preferinte=2]="Preferinte"}(W||(W={})),function(e){e[e.missingDB=0]="missingDB",e[e.invalidPluginDefinition=1]="invalidPluginDefinition",e[e.couldNotWriteFile=2]="couldNotWriteFile"}(exports.Errors||(exports.Errors={}));var V,H,X=[],J="ro",Z=function(){function a(e,t){var a=this;void 0===e&&(e=e),void 0===t&&(t=[]),this.plugins=t,this.locale=J,this.taxonomies=e.map((function(t){Object.defineProperty(a,t.form.plural,{value:t,writable:!1});var n=[],i=[];return e.forEach((function(e){var a=e.form,r=[a.name+"Id",a.plural].filter((function(e){return t.form.fieldsIds.indexOf(e)>-1}))[0],o=e.form.fieldsIds.filter((function(e){return[t.form.name+"Id",t.form.plural].indexOf(e)>-1}));r&&n.push(r.replace("Id","")),o.length&&i.push(e.form.plural)})),n&&n.length>0&&(t.parents=n),i&&i.length>0&&(t.children=i),t.form.plural})),this.supportedLangs=g}return Object.defineProperty(a.prototype,"i18n",{get:function(){return d({},V)},enumerable:!1,configurable:!0}),Object.defineProperty(a,"locale",{get:function(){return J},set:function(e){var t=e.indexOf("-")>-1?e.split("-")[0]:e;if(console.log("l",t),g.map((function(e){return e.code})).indexOf(t)<0)throw new x("Language not supported");J=t;try{V=H[J],console.log("x",V)}catch(e){throw new Error("Could not find translations file for language: ",t,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shit",{get:function(){return V},enumerable:!1,configurable:!0}),a.translate=function(e,t){return V[t][e]||V[e]},a.prototype.put=function(e,t){this[e].put(t)},a.prototype.subscribe=function(e,t,a){var n=this;void 0===a&&(a="main"),Object.keys(e).forEach((function(e){n.taxonomies[e].subscribe(a,t)}))},a.build=function(t){return void 0===t&&(t=d({},h.build)),f(this,void 0,void 0,(function(){var n,i,r=this;return v(this,(function(o){switch(o.label){case 0:return n=K,[4,e.createRxDatabase(t.db)];case 1:return n.db=o.sent(),[4,G(g.map((function(e){return e.code})))];case 2:return H=o.sent(),[4,L($)];case 3:return i=o.sent(),[4,Promise.all(i.map((function(e){return f(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,K.init(e)];case 1:return[2,t.sent()]}}))}))})))];case 4:return[2,new a(o.sent(),X)]}}))}))},a.use=function(e){if(!e||"object"!=typeof e)throw new x(exports.Errors.invalidPluginDefinition);e.name;X.push(e)},a.prototype.destroy=function(){return f(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,K.destroy()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.error("Lodger could not be destroyed. Reason: ",e),[3,3];case 3:return[2]}}))}))},a.prototype.export=function(e,t,a){return f(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.db.dump()];case 1:return t.sent(),e||(e=require("os").homeDir+"/downloads/"),[2]}}))}))},a.prototype.import=function(){return f(this,void 0,void 0,(function(){return v(this,(function(e){return[2]}))}))},m([t.observable],a.prototype,"locale",void 0),a}(),Y="apartament/activeDoc",Q={nr:{type:"number",default:function(e){},value:function(e){return e[Y].nr},required:!0,index:!0,preview:0},proprietar:{type:"fullName",placeholder:"Ion Barbu",oninput:{transform:"capitalize"},preview:1,v:"alpha_spaces|max:32",value:function(e){return e[Y].proprietar}},suprafata:{type:"number",default:null,step:.01,value:function(e){return e[Y].suprafata}},locatari:{index:!0,type:"number",default:2,min:0,max:10,value:function(e){return e[Y].locatari}},camere:{type:"number",index:!0,default:2,max:12,min:1,value:function(e){return e[Y].camere}},etaj:{type:"number",required:!0,value:function(e){return e[Y].etaj}},blocId:{required:!0,value:function(e){return e[Y].bloc}},asociatieId:{required:!0,value:function(e){return e["asociatie/activeDoc"]._id}},scara:{type:"number",required:!0,value:function(e){return e[Y].scara}},balanta:{type:"$",default:null,required:!0,preview:2,index:!0,value:function(e){return e[Y].balanta}},contoare:{type:"contoare",value:function(e){return e[Y].contoare}},incasari:{type:"array",ref:"incasari"},cheltuieli:{type:"array",ref:"cheltuieli"}},ee={incaseaza:function(e){return f(this,void 0,void 0,(function(){var t;return v(this,(function(a){switch(a.label){case 0:return this.balanta||(this.balanta=0),t=this.incasari||[],this.balanta+=e.suma,t.push(e._id),this.incasari=t,[4,this.save()];case 1:return a.sent(),[2]}}))}))}},te=Object.freeze({__proto__:null,methods:ee,fields:Q}),ae={initBalanta:function(e){return f(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return void 0!==this.balanta?[2]:(this.balanta=e.balanta,[4,this.save()]);case 1:return t.sent(),[2]}}))}))},incaseaza:function(e){return f(this,void 0,void 0,(function(){var t;return v(this,(function(a){switch(a.label){case 0:return this.balanta||(this.balanta=0),t=this.incasari||[],this.balanta+=e.suma,t.push(e._id),this.incasari=t,[4,this.save()];case 1:return a.sent(),[2]}}))}))},toggle_serviciu:function(e){return f(this,void 0,void 0,(function(){var t,a;return v(this,(function(n){return e?((t=this.servicii)||(t=[]),(a=t.indexOf(e))>-1?t.splice(a,1):t.push(e),this.update({$set:{servicii:t}}),[2]):[2]}))}))},UPDATEAZA:function(e){return f(this,void 0,void 0,(function(){var t=this;return v(this,(function(a){switch(a.label){case 0:return Object.keys(e).forEach((function(a){t[a]=e[a]})),[4,this.save()];case 1:return a.sent(),[2]}}))}))}},ne={selected:function(e){return f(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.findOne(e).exec()];case 1:return[2,t.sent()]}}))}))}},ie=Object.freeze({__proto__:null,fields:{name:{required:!0,focus:!0,index:!0,preview:0,value:function(e){return e.activeDoc.name},v:"max:32|min:3",oninput:{transform:"capitalize"}},organizatie:{type:"object",value:function(e){return e.activeDoc.organizatie}},balanta:{type:"number",preview:1,value:function(e){return e.activeDoc.balanta}},incasari:{type:"array",ref:"incasare",value:function(e){return e.activeDoc.incasari}},utilizatori:{type:"array",ref:"utilizator",required:!0,value:function(e){return e.activeDoc.utilizatori}},servicii:{type:"array",ref:"serviciu",value:function(e){return e.activeDoc.servicii}},furnizori:{type:"array",ref:"furnizor",value:function(e){return e.activeDoc.furnizori}},preferinte:{value:function(e){return e.activeDoc.preferinte},type:"object"}},methods:ae,statics:ne,setari:{date:{fields:[{type:"button",click:"exportDb"},{type:"button",click:"importDb"}]},periculoase:{order:-1,avansat:!0,fields:[{type:"button",click:"sterge"}]}}}),re=Object.freeze({__proto__:null,fields:{name:{placeholder:"ex. M11, COCOR-2, A3...",oninput:{transform:"uppercase:all"},type:"buildingName",required:!0,preview:0,index:!0,v:"min:1|max:20",focus:!0,value:function(e){return e.activeDoc.name}},scari:{type:"scari",preview:1,default:[{id:1,etaje:4,lift:!1,mansarda:!1}],value:function(e){return e.activeDoc.scari}},adresa:{type:"textarea",value:function(e){return e.activeDoc.adresa}},asociatieId:{required:!0,ref:"asociatie",value:function(e){return e.g.asociatieId}}}}),oe=Object.freeze({__proto__:null,fields:{asociatieId:{ref:"asociatii",required:!0,index:!0},dataScadenta:{type:"dateTime",preview:0},catre:{type:"string",ref:"furnizori"},facturi:{type:"search",ref:"facturi"},suma:{type:"$",required:!0,index:!0,preview:1},distribuire:{type:"distribuire"},apartamenteEligibile:{type:"selApartamente",options:function(e){return e.getters["asociatie/apartamente"]}}}}),se=Object.freeze({__proto__:null,fields:{tip:{}}}),ce={suma:{type:"$",preview:0,index:!0,required:!0},nrFactura:{type:"number",default:1,index:!0,value:function(e){return Number(e.nrUltimaChitanta||0)+1}},dataScadenta:{type:"date",preview:1},furnizorId:{required:!0,type:"search",ref:"furnizori"},asociatieId:{required:!0,index:!0,value:function(e){return e["asociatie/active"]||e["asociatie/selected"]}}},ue=Object.freeze({__proto__:null,fields:ce}),le=Object.freeze({__proto__:null,fields:{subiect:{required:!0},tip:{type:"select",options:["bug","enhacement","feature","other"],default:"bug",required:!0},mesaj:{required:!0,type:"textarea",placeholder:"Părerea / Sugestia / Critica ta"}}}),de=Object.freeze({__proto__:null,fields:{name:{required:!0,preview:0,index:!0},servicii:{type:"servicii",required:!0,value:function(e){return e.activeDoc.servicii},ref:"serviciu"},organizatie:{type:"organizatie"}}}),me=Object.freeze({__proto__:null,fields:{suma:{type:"$",preview:1,index:!0,required:!0},nrChitanta:{type:"number",default:1,preview:0,index:!0,value:function(e){return(e.activeDoc.nrUltimaChitanta||0)+1}},apartamentId:{required:!0,type:"search",ref:"apartamente",preview:2},blocId:{required:!0,index:!0,value:function(e){return e["bloc/selected"].id}},asociatieId:{required:!0,index:!0,value:function(e){return e["asociatie/selected"].id}}}}),fe=["apa","electricitate","gaze","termoficare","internet","evacuare-gunoi-menajer"],ve={onFirstTimeSubscribe:function(e){var t=e.put;fe.map((function(e){return f(void 0,void 0,void 0,(function(){return v(this,(function(a){switch(a.label){case 0:return[4,t(e)];case 1:return a.sent(),[2]}}))}))}))}},pe=Object.freeze({__proto__:null,fields:{denumire:{required:!0,preview:0,primary:!0,index:!0},furnizori:{type:"array",ref:"furnizor"},contoare:{type:"contoare",ref:"contoare",preview:1}},predefinite:fe,hooks:ve}),he=Object.freeze({__proto__:null}),be={UPDATEAZA:function(e){return f(this,void 0,void 0,(function(){var t=this;return v(this,(function(a){switch(a.label){case 0:return Object.keys(e).forEach((function(a){t[a]=e[a]})),[4,this.save()];case 1:return a.sent(),[2]}}))}))}},ye={onFirstTimeSubscribe:function(e){var t=e.put;e.dispatch;return f(void 0,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,t({name:"Administrator",rol:"admin"})];case 1:return e.sent(),[2]}}))}))}},ge=Object.freeze({__proto__:null,fields:{avatar:{type:"userAvatar",preview:0},name:{type:"fullName",required:!0,primary:!0,preview:1,value:function(e){return e.activeDoc.name}},contact:{type:"contactFields",value:function(e){return e.activeDoc.contact}},rol:{type:"number",preview:2,required:!0,value:function(e){return e.activeDoc.rol}},preferinte:{type:"object"}},hooks:ye,methods:be,settings:{online:{campuri:[{id:"parola",required:!1,encrypted:!0},{id:"social",required:!1,encrypted:!0}]}}}),Ne=Object.freeze({__proto__:null,default:{taxonomies:{asociatie:{name:"Association",plural:" Associations",fields:{}}},errors:{index:{missingDB:" Unspecified database",invalidPluginDefinition:" Invalid plugin",couldNotWriteFile:" %% file cannot be written"}}}});module.exports={taxonomies:{asociatie:{name:"Asociație",plural:"Asociații",fields:{}}},errors:{index:{missingDB:"Bază de date nespecificată",invalidPluginDefinition:"Plugin invalid",couldNotWriteFile:"Fișierul %% nu poate fi scris"}}};var we=Object.freeze({__proto__:null});exports.Lodger=Z,exports.notify=E,exports.taxonomies=$;
